var webclient=function(e){function t(t){for(var r,a,i=t[0],c=t[1],l=t[2],p=0,f=[];p<i.length;p++)a=i[p],o[a]&&f.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(s&&s(t);f.length;)f.shift()();return u.push.apply(u,l||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],r=!0,i=1;i<n.length;i++){var c=n[i];0!==o[c]&&(r=!1)}r&&(u.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={0:0},u=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise(function(t,r){n=o[e]=[t,r]});t.push(n[2]=r);var u,i=document.createElement("script");i.charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.src=function(e){return a.p+""+({}[e]||e)+".bundle.8e35baed9369de674e54.js"}(e),u=function(t){i.onerror=i.onload=null,clearTimeout(c);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),u=t&&t.target&&t.target.src,a=new Error("Loading chunk "+e+" failed.\n("+r+": "+u+")");a.type=r,a.request=u,n[1](a)}o[e]=void 0}};var c=setTimeout(function(){u({type:"timeout",target:i})},12e4);i.onerror=i.onload=u,document.head.appendChild(i)}return Promise.all(t)},a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/Explorer/",a.oe=function(e){throw console.error(e),e};var i=window.webpackJsonpwebclient=window.webpackJsonpwebclient||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var s=c;return u.push([345,1]),n()}({150:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(765))},314:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(52);t.locationToView=function(e){switch(e.pathname){case"/details":return{view:"details",routeId:r.fromNullable(e.search.routeId)};default:return{view:"explorer"}}},t.viewToLocation=function(e){switch(e.view){case"details":return{pathname:"/details",search:{routeId:e.routeId.getOrElse("")}};case"explorer":return{pathname:"/",search:{}}}}},316:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=n(2),a=n(789),i=n(74),c=n(791),l=n(793),s=n(794),p=n(796),f=n(53),d=n(52);n(797);var m=n(39),h={closeButton:!1,closeOnClick:!0,offset:[0,-40],anchor:"bottom"};t.getRouteDistanceInPixels=function(e,t,n){return e.geometry.coordinates.reduce(function(e,r){var o=n.project(new l.LngLat(t.lng,t.lat)),u=n.project(new l.LngLat(r[0],r[1])),a=Math.sqrt(Math.pow(Math.abs(o.x-u.x),2)+Math.pow(Math.abs(o.y-u.y),2));return a<e?a:e},1/0)};var v=function(e){function n(){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments));return e.map=d.none,e.popupSelectedRoute=new l.Popup(h),e.popupHoveredRoute=new l.Popup(h),e.onMouseMove=c(function(n){e.props.innerRef(e.map),e.map.map(function(r){var o=e.props.routes.reduce(function(e,o){var u=t.getRouteDistanceInPixels(o,n.lngLat,r);return u<e.distance?{distance:u,route:o}:e},{distance:1/0});o.distance<25?e.props.onRouteHover(d.some(o.route)):e.props.onRouteHover(d.none)})},60),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,u.PureComponent),o(n,[{key:"initializeMap",value:function(){var e=this;l.accessToken="pk.eyJ1IjoiZnJhbmNlc2NvY2lvcmlhIiwiYSI6ImNqcThyejR6ODA2ZDk0M25rZzZjcGo4ZmcifQ.yRWHQbG1dJjDp43d01bBOw";var t=new l.Map({container:"map",style:"mapbox://styles/francescocioria/cjqi3u6lmame92rmw6aw3uyhm",zoom:11});t.on("load",function(){e.map=d.some(t),e.addLayers(),e.addMarkers(),"userLocation"===e.props.startPosition&&navigator.geolocation.getCurrentPosition(function(e){t.setCenter(new l.LngLat(e.coords.longitude,e.coords.latitude))}),"firstRoute"===e.props.startPosition&&e.props.routes.length>0&&e.flyToRoute(e.props.routes[0],{animate:!1,padding:80})}),t.on("mousemove",this.onMouseMove)}},{key:"getRouteColor",value:function(e){return this.props.selectedRoute.isSome()&&e===this.props.selectedRoute.value||this.props.hoveredRoute.isSome()&&e===this.props.hoveredRoute.value?"#387ddf":e.properties.color}},{key:"addLayers",value:function(){var e=this;this.map.map(function(t){e.props.routes.forEach(function(n){var r={id:n.properties.url,type:"line",source:{type:"geojson",data:n},layout:{"line-join":"round","line-cap":"round"},paint:{"line-width":3,"line-color":e.getRouteColor(n)}};t.on("click",r.id,function(){e.props.onRouteSelect(n)}),t.addLayer(r)})})}},{key:"addMarkers",value:function(){var e=this;this.map.map(function(t){e.props.routes.forEach(function(n){var r=n.geometry.coordinates[0],o=document.createElement("div");i.render(u.createElement(p.default,{onClick:function(){return e.props.onRouteSelect(n)}}),o),new l.Marker({element:o}).setLngLat([r[0],r[1]]).addTo(t)})})}},{key:"updateLayers",value:function(){var e=this;this.map.map(function(t){e.props.routes.forEach(function(n){t.setPaintProperty(n.id,"line-color",e.getRouteColor(n))})})}},{key:"flyToRoute",value:function(e,t){this.map.map(function(n){var o=e.geometry.coordinates.map(function(e){return new l.LngLatBounds(e,e)}).reduce(function(e,t){return e.extend(t)});n.fitBounds(o,r({padding:50},t))})}},{key:"showPopup",value:function(e,t){this.map.map(function(n){var r=new l.LngLat(e.geometry.coordinates[0][0],e.geometry.coordinates[0][1]);t.setLngLat(r).setHTML(a.renderToString(u.createElement(s.default,{route:e}))).addTo(n)})}},{key:"updateSelectedRoutePopup",value:function(){this.props.selectedRoute.isSome()?this.showPopup(this.props.selectedRoute.value,this.popupSelectedRoute):this.popupSelectedRoute.remove()}},{key:"updateHoveredRoutePopup",value:function(){var e=this.props.hoveredRoute;e.isSome()&&e.value!==this.props.selectedRoute.fold(null,m.identity)?this.showPopup(e.value,this.popupHoveredRoute):this.popupHoveredRoute.remove()}},{key:"componentDidMount",value:function(){this.initializeMap(),this.props.innerRef(this.map)}},{key:"componentDidUpdate",value:function(e){this.updateLayers(),this.updateSelectedRoutePopup(),this.updateHoveredRoutePopup(),this.props.selectedRoute.isSome()&&(e.selectedRoute.isNone()||e.selectedRoute.value!==this.props.selectedRoute.value)&&this.flyToRoute(this.props.selectedRoute.value)}},{key:"render",value:function(){return u.createElement(f.default,{grow:!0,id:"map"})}}]),n}();t.default=v},343:function(e,t){},345:function(e,t,n){"use strict";n.r(t),n.d(t,"main",function(){return c}),n(346);var r=n(2),o=n(74),u=n(353).default,a=n(107).IntlProvider,i=n(948).loadLocale;function c(e){o.render(r.createElement(a,{loadLocale:i,locale:"it"},r.createElement(u,null)),e)}n(949),n(950)},346:function(e,t,n){n(347).polyfill(),n(348)},353:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(354);t.default=r.default},354:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),u=n(56),a=n(150),i=n(53),c=n(788),l=n(870),s=u.declareQueries({currentView:a.currentView}),p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){return this.props.currentView.ready?o.createElement(i.default,{className:"app",height:"100%"},"explorer"===this.props.currentView.value.view&&o.createElement(c.default,null),"details"===this.props.currentView.value.view&&o.createElement(l.default,null)):null}}]),t}();t.default=s(p)},53:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(780);t.default=r.default},765:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(56);t.location=o.location;var u=n(766),a=n(314),i=n(773),c=n(779),l=n(52);t.currentView=o.Query({params:{},dependencies:{location:o.location},fetch:function(e){var t=e.location;return Promise.resolve(a.locationToView(t))}}),t.routes=o.Query({cacheStrategy:o.available,params:{},fetch:function(){return u.getRoutes().then(function(e){return e.map(function(e){return r({id:e.properties.url},e,{properties:r({},e.properties,{color:i(e.properties.name),length:(c(e.geometry)/1e3).toFixed(1),elevationGain:Math.round(function(e){return e.reduce(function(t,n,r){var o=r>0?e[r-1][2]:void 0,u=n[2];return u&&o&&u>o?t+u-o:t},0)}(e.geometry.coordinates))})})})})}}),t.route=o.Query({params:{},dependencies:{currentView:t.currentView,routes:t.routes},fetch:function(e){var t=e.currentView,n=e.routes;if("details"===t.view&&t.routeId.isSome()){var r=t.routeId.value;return Promise.resolve(l.fromNullable(n.find(function(e){return e.id===r})))}return Promise.resolve(l.none)}}),t.routeReadme=o.Query({params:{},dependencies:{route:t.route},fetch:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=e.route;if(t.isSome()){var n="https://raw.githubusercontent.com/BikeRoutes/BikeRoutes/master/"+/BikeRoutes.+master\/(.+)\/.+$/.exec(t.value.properties.url)[1]+"/README.md";return fetch(n).then(function(e){return e.text()}).then(function(e){return l.some(e)})}return Promise.resolve(l.none)})})},766:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(767))},767:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(170);function u(e){var t=e.filter(function(e){return"dir"===e.type});if(t.length>0)return Promise.all(t.map(function(e){return fetch(e.url).then(function(e){return e.json()})})).then(o).then(u);var n=e.filter(function(e){return"file"===e.type&&e.name.includes(".geojson")});return Promise.all(n.map(function(e){return fetch(e.download_url).then(function(e){return e.json()}).then(function(t){return r({},t,{features:[r({},t.features[0],{properties:r({},t.features[0].properties,{url:e.html_url})})]})})}))}t.getRoutes=function(){return fetch("https://api.github.com/repos/BikeRoutes/Milano/contents").then(function(e){return e.json()}).then(u).then(function(e){return e.map(function(e){return e.features[0]})})}},780:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(781);t.default=r.default},788:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),u=n(56),a=n(150),i=n(53),c=n(316),l=n(798),s=n(52),p=n(207),f=u.declareQueries({routes:a.routes}),d=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.map=s.none,e.state={selectedRoute:s.none,hoveredRoute:s.none},e.onRouteSelect=function(t){e.setState({selectedRoute:e.state.selectedRoute.isSome()&&e.state.selectedRoute.value===t?s.none:s.some(t)})},e.onRouteHover=function(t){e.setState({hoveredRoute:t})},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this,t=this.props.routes;if(!t.ready)return null;var n=this.map.fold(t.value,function(e){return p(t.value,function(t){return c.getRouteDistanceInPixels(t,e.getCenter(),e)})});return o.createElement(i.default,{height:"100%",grow:!0},o.createElement(l.default,{routes:n,onRouteClick:this.onRouteSelect,selectedRoute:this.state.selectedRoute}),o.createElement(c.default,{routes:t.value,selectedRoute:this.state.selectedRoute,hoveredRoute:this.state.hoveredRoute,onRouteHover:this.onRouteHover,onRouteSelect:this.onRouteSelect,innerRef:function(t){return e.map=t},startPosition:"userLocation"}))}}]),t}();t.default=f(d)},794:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(53);n(795),t.default=function(e){return r.createElement(o.default,{className:"popup",column:!0},r.createElement(o.default,{className:"name"},e.route.properties.name),r.createElement(o.default,{className:"distance",vAlignContent:"bottom"},r.createElement("label",null,"Distance")," ",e.route.properties.length," km"),r.createElement(o.default,{className:"elevation",vAlignContent:"bottom"},r.createElement("label",null,"Elevation")," ",e.route.properties.elevationGain," m"))}},795:function(e,t,n){},796:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(e){return r.createElement("svg",{height:"41px",width:"27px",viewBox:"0 0 27 41",onClick:e.onClick,className:"marker",style:{cursor:"pointer",marginTop:"-100%"}},r.createElement("g",{fillRule:"nonzero"},r.createElement("g",{transform:"translate(3.0, 29.0)",fill:"#000000"},r.createElement("ellipse",{opacity:"0.04",cx:"10.5",cy:"5.80029008",rx:"10.5",ry:"5.25002273"}),r.createElement("ellipse",{opacity:"0.04",cx:"10.5",cy:"5.80029008",rx:"10.5",ry:"5.25002273"}),r.createElement("ellipse",{opacity:"0.04",cx:"10.5",cy:"5.80029008",rx:"9.5",ry:"4.77275007"}),r.createElement("ellipse",{opacity:"0.04",cx:"10.5",cy:"5.80029008",rx:"8.5",ry:"4.29549936"}),r.createElement("ellipse",{opacity:"0.04",cx:"10.5",cy:"5.80029008",rx:"7.5",ry:"3.81822308"}),r.createElement("ellipse",{opacity:"0.04",cx:"10.5",cy:"5.80029008",rx:"6.5",ry:"3.34094679"}),r.createElement("ellipse",{opacity:"0.04",cx:"10.5",cy:"5.80029008",rx:"5.5",ry:"2.86367051"}),r.createElement("ellipse",{opacity:"0.04",cx:"10.5",cy:"5.80029008",rx:"4.5",ry:"2.38636864"})),r.createElement("g",{fill:"#3FB1CE"},r.createElement("path",{d:"M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"})),r.createElement("g",{opacity:"0.25",fill:"#000000"},r.createElement("path",{d:"M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"})),r.createElement("g",{transform:"translate(6.0, 7.0)",fill:"#FFFFFF"}),r.createElement("g",{transform:"translate(8.0, 8.0)"},r.createElement("circle",{fill:"#000000",opacity:"0.25",cx:"5.5",cy:"5.5",r:"5.4999962"}),r.createElement("circle",{fill:"#FFFFFF",cx:"5.5",cy:"5.5",r:"5.4999962"}))))}},798:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),u=n(36),a=n(53),i=n(314),c=n(52),l=n(799),s=n(866),p=n(161);n(868),n(869);var f=function(e){return o.createElement(a.default,{className:u("route",{"is-selected":e.isSelected}),column:!0,onClick:e.onClick,shrink:!1},o.createElement(a.default,{className:"name"},e.route.properties.name),o.createElement(a.default,{className:"distance",vAlignContent:"bottom"},o.createElement("label",null,"Distance")," ",e.route.properties.length," km"),o.createElement(a.default,{className:"elevation",vAlignContent:"bottom"},o.createElement("label",null,"Elevation")," ",e.route.properties.elevationGain," m"),o.createElement(a.default,{className:"actions"},o.createElement(l.default,{size:"tiny",label:"Details",onClick:e.onDetailsClick})))},d=p.declareCommands({doUpdateLocation:s.doUpdateLocation}),m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this;return o.createElement(a.default,{className:"side-bar",column:!0,shrink:!1},o.createElement("h2",null,"Routes"),this.props.routes.map(function(t,n){return o.createElement(f,{key:n,route:t,onClick:function(){return e.props.onRouteClick(t)},isSelected:e.props.selectedRoute.isSome()&&e.props.selectedRoute.value===t,onDetailsClick:function(n){n.stopPropagation(),e.props.doUpdateLocation(i.viewToLocation({view:"details",routeId:c.some(t.id)}))}})}))}}]),t}();t.default=d(m)},866:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(867))},867:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(56);t.doUpdateLocation=r.doUpdateLocation},868:function(e,t,n){},870:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),c=n(56),l=n(150),s=n(53),p=n(316),f=n(871);n(923);var d=n(52),m=function(e){function t(){return o(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,i.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.forceUpdate()}},{key:"render",value:function(){var e=document.querySelectorAll(".markdown img");return i.createElement(s.default,{className:"markdown",hAlignContent:"center",shrink:!1},i.createElement(s.default,{style:{maxWidth:1200},grow:!0},i.createElement(s.default,{basis:"70%",column:!0},i.createElement(s.default,{className:"remarkable",column:!0,grow:!0,dangerouslySetInnerHTML:{__html:h.render(this.props.routeReadme)}}),i.createElement(s.default,{className:"summary"},i.createElement(s.default,{className:"distance",column:!0},i.createElement("span",null,this.props.route.properties.length," km"),i.createElement("label",null,"Distance")),i.createElement(s.default,{className:"elevation",column:!0},i.createElement("span",null,this.props.route.properties.elevationGain," m"),i.createElement("label",null,"Elevation")))),i.createElement(s.default,{className:"images",hAlignContent:"right",basis:"30%"},Array.from(e).map(function(e){return i.createElement("img",{key:e.src,src:e.src})}))))}}]),t}(),h=new f({linkify:!0}),v=c.declareQueries({route:l.route,routeReadme:l.routeReadme}),y=function(e){function t(){return o(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,i.Component),r(t,[{key:"render",value:function(){return!this.props.route.ready||this.props.route.value.isNone()||!this.props.routeReadme.ready||this.props.routeReadme.value.isNone()?null:i.createElement(s.default,{className:"details",height:"100%",grow:!0,column:!0},i.createElement(m,{routeReadme:this.props.routeReadme.value.value,route:this.props.route.value.value}),i.createElement(s.default,{basis:600,className:"map-wrapper"},i.createElement(p.default,{routes:[this.props.route.value.value],startPosition:"firstRoute",hoveredRoute:d.none,selectedRoute:d.none,onRouteHover:function(){},onRouteSelect:function(){},innerRef:function(){}})))}}]),t}();t.default=v(y)},923:function(e,t,n){},939:function(e,t){},945:function(e,t){},948:function(e,t,n){"use strict";n.r(t),n.d(t,"loadLocale",function(){return o});var r=n(107);function o(e){return new Promise(function(t){switch(e){case"it":return Promise.all([n.e(3),n.e(5)]).then(function(){var o=[n(962),n(963)];Object(r.addLocaleDataAndResolve)(e,t).apply(null,o)}.bind(this)).catch(n.oe);case"en":default:return Promise.all([n.e(2),n.e(4)]).then(function(){var o=[n(964),n(965)];Object(r.addLocaleDataAndResolve)(e,t).apply(null,o)}.bind(this)).catch(n.oe)}})}},949:function(e,t,n){"use strict";n.r(t);var r=n(36),o=n(160),u=n.n(o)()(),a=r({"is-desktop":u.isDesktop,"is-tablet":u.isTablet,"is-phone":u.isPhone}),i=document.documentElement||document.body;i.className=r(i.className,a)},950:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(951),n(958),n(960),n(961)},960:function(e,t,n){},961:function(e,t,n){}});
//# sourceMappingURL=main.bundle.8e35baed9369de674e54.js.map